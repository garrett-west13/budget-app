{% extends 'layout.html' %}

{% load static %}

{% block title %}Budgeting App{% endblock %}

{% block content %}
<div class="container">
    {% if not user.is_authenticated %}
    <div class="jumbotron mt-5">
        <h1 class="display-4">Welcome to Your Budgeting App</h1>
        <p class="lead">Take control of your finances and achieve your financial goals.</p>
        <hr class="my-4">
        <p>Get started by logging in or creating an account.</p>
        <a class="btn btn-primary btn-lg" href="{% url 'login' %}" role="button">Login</a>
        <a class="btn btn-success btn-lg" href="{% url 'register' %}" role="button">Register</a>
    </div>
    {% else %}
    <div class="help-block text-right mr-4 mt-2 text-muted">A red <span class="expense-dot">•</span> indicates an expense. A green <span class="income-dot">•</span> indicates an income.</div>

    <div class="d-flex form-group">
        <input type="month" id="date-picker" class="form-control" style="max-width: 180px;">
    </div>

    <div id="calendar-container" class="calendar-container">
        <div class="d-flex justify-content-between mb-2">
            <button type="button" class="btn btn-primary ml-2 mb-2" id="prev-month">Previous Month</button>
            <button type="button" class="btn btn-primary ml-2 mb-2" id="current-month">Current Month</button>
            <button type="button" class="btn btn-primary ml-2 mb-2" id="next-month">Next Month</button>
        </div>

        <p class="text-muted text-center">
            to add a new transaction, click on any day you want to add it to.
        </p>

        <div id="loading-spinner" class="text-center">
            <div class="spinner-border text-primary" role="status">
                <span class="sr-only">Loading...</span>
            </div>
            <p class="text-muted">Loading...</p>
        </div>

        <div id="calendar"></div>

    </div>

    <div class="monthly-overview-container">
        <div>
            <h2>Total Expenses</h2>
            <p class="expenses" id="total-expenses">Loading...</p>
        </div>
        <div>
            <h2>Total Income</h2>
            <p class="income" id="total-income">Loading...</p>
        </div>
        <div>
            <h2>Total Savings</h2>
            <p class="savings" id="total-savings">Loading...</p>
        </div>        
        <div>
            <h2>Total Balance</h2>
            <p class="balance" id="total-balance">Loading...</p>
        </div>
    </div>      
</div>    
    <script src="{% static 'script.js' %}"></script> 
    {% endif %}
{% endblock %}
